<div class="card" style="width: 25rem;">
    <div class="card-header">
        {{pageTitle}}
    </div>
    <div class ="card-body">
        <div class="container">
            <form novalidate [formGroup]="createaccountForm">
                <div class="form-group">
                    <label for="userNameId">User name</label>
                    <div class="col">
                        <input class="form-control" id="userNameId" type="text" placeholder="username (required)"
                            formControlName="userName"
                            [ngClass]="{'is-invalid': (createaccountForm.get('userName').touched || createaccountForm.get('userName').dirty) && !createaccountForm.get('userName').valid }" />
                        <span class="invalid-feedback">
                            <span *ngIf="createaccountForm.get('userName').errors?.required">
                                Please enter your username name.
                            </span>
                            <span *ngIf="createaccountForm.get('userName').errors?.minlength">
                                The user name must be longer than 3 characters.
                            </span>
                        </span>
                    </div>
                </div>

                <div class="form-group ">
                    <label for="emailId">User name</label>
                    <div class="col">
                        <input class="form-control" id="emailId" type="email" placeholder="email (required)"
                            formControlName="email"
                            [ngClass]="{'is-invalid': (createaccountForm.get('email').touched || createaccountForm.get('email').dirty) && !createaccountForm.get('email').valid }" />
                        <span class="invalid-feedback">
                            <span *ngIf="createaccountForm.get('email').errors?.required">
                                Please enter your email.
                            </span>
                            <span *ngIf="createaccountForm.get('email').errors?.email">
                                Plaease Enter vaild email.
                            </span>
                        </span>
                    </div>
                </div>

                <div formGroupName="passwordGroup">
                    <div class="form-group ">
                        <label for="passwordId">Password</label>
                        <div class="col">
                            <input class="form-control" id="passwordId" type="password"
                                placeholder="password (required)" formControlName="password" />
                            <span class="invalid-feedback">
                                <span *ngIf="createaccountForm.get('passwordGroup.password').errors?.required">
                                    Please enter your password.
                                </span>
                            </span>

                        </div>
                    </div>
                    <div class="form-group ">
                        <label for="confirmPasswordId">Confirm Password</label>
                        <div class="col">
                            <input class="form-control" id="confirmPasswordId" type="password"
                                placeholder="Confirm password (required)" formControlName="confirmPassword"
                                [ngClass]="{'is-invalid': createaccountForm.get('passwordGroup').errors ||
                                                            ((createaccountForm.get('passwordGroup.confirmPassword').touched ||  
                                                            createaccountForm.get('passwordGroup.confirmPassword').dirty) &&
                                                            !createaccountForm.get('passwordGroup.confirmPassword').valid )}" />
                            <span class="invalid-feedback">
                                <span *ngIf="createaccountForm.get('passwordGroup.confirmPassword').errors?.required">
                                    Please confirm your password.
                                </span>
                                <span *ngIf="createaccountForm.get('passwordGroup').errors?.match">
                                    the confirmation does not match the password.
                                </span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group form-check">
                    <input type="checkbox"
                     formControlName="acceptTerms" 
                     id="acceptTerms" 
                     class="form-check-input" 
                     [ngClass]="{ 'is-invalid': createaccountForm.get('acceptTerms').touched}" />
                    <label for="acceptTerms" class="form-check-label">Accept Terms & Conditions</label>
                    <div *ngIf="createaccountForm.get('acceptTerms').errors?. Validators.pattern('false')">
                        Please Accept Terms & Conditions.
                    </div>
                </div>

                <div class="btn-toolbar ">
                    <button class="btn btn-primary" (click)='create()'> Create Account </button><button
                        class="btn btn-secondary" (click)='onBack()'> Cancel </button>
                </div>

            </form>
        </div>
    </div>
</div>
